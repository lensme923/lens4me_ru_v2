(function(){"use strict";BX.namespace("BX.Report.VC");BX.Report.VC.Core={entryUrl:"/bitrix/services/main/ajax.php",moduleName:"report",currentRunningAjaxRequests:[],abortAllRunningRequests:function(){for(var t=0;t<this.currentRunningAjaxRequests.length;t++){this.currentRunningAjaxRequests[t].abort()}},ajaxGet:function(t,n,s){if(s===undefined){s="report"}BX.ajax.runAction(s+".api."+t,{data:n.urlParams||{},onrequeststart:function(t){this.currentRunningAjaxRequests.push(t);if(BX.type.isFunction(n.onrequeststart)){n.onrequeststart(t)}}.bind(this)}).then(function(t){this._successHandler(t,n)}.bind(this)).catch(function(t){if(t.errors){console.error(t.errors.map(function(t){return t.message}).join("\n"))}else{console.error(t)}})},ajaxPost:function(t,n){BX.ajax.runAction("report.api."+t,{data:n.data||{},onrequeststart:function(t){this.currentRunningAjaxRequests.push(t);if(BX.type.isFunction(n.onrequeststart)){n.onrequeststart(t)}}.bind(this)}).then(function(t){this._successHandler(t,n)}.bind(this)).catch(function(t){var n=t.errors;console.error(n.map(function(t){return t.message}).join("\n"))})},ajaxSubmit:function(t,n){n.data=n.data||{};n.data["formParams"]=BX.ajax.prepareForm(t).data;BX.ajax.runAction("report.api."+t.getAttribute("action"),{data:n.data||{}}).then(function(t){n.onsuccess(t)}).catch(function(t){var n=t.errors;console.error(n.map(function(t){return t.message}).join("\n"))})},_successHandler:function(t,n){if(t.assets){if(t.assets["css"].length){BX.load(t.assets["css"],function(){if(t.assets["js"].length){BX.load(t.assets["js"],function(){if(t.assets["string"].length){for(var s=0;s<t.assets["string"].length;s++){BX.html(null,t.assets["string"][s])}n.onFullSuccess(t)}else{n.onFullSuccess(t)}})}else{if(t.assets["string"].length){if(t.assets["string"].length){for(var s=0;s<t.assets["string"].length;s++){BX.html(null,t.assets["string"][s])}n.onFullSuccess(t)}else{n.onFullSuccess(t)}}else{n.onFullSuccess(t)}}})}else if(t.assets["js"].length){BX.load(t.assets["js"],function(){if(t.assets["string"].length){if(t.assets["string"].length){for(var s=0;s<t.assets["string"].length;s++){BX.html(null,t.assets["string"][s])}n.onFullSuccess(t)}else{n.onFullSuccess(t)}}else{n.onFullSuccess(t)}})}else{if(t.assets["string"].length){if(t.assets["string"].length){for(var s=0;s<t.assets["string"].length;s++){BX.html(null,t.assets["string"][s])}n.onFullSuccess(t)}else{n.onFullSuccess(t)}}else{n.onFullSuccess(t)}}}else{n.onFullSuccess(t)}},loadJsStings:function(t,n){for(var s=0;s<t.length;s++){BX.html(null,t[s])}n()},getPopup:function(t,n,s){return new BX.PopupWindow(t,n,{closeIcon:{right:"20px",top:"10px"},titleBar:s.title,width:570,height:500,zIndex:0,offsetLeft:0,offsetTop:0,draggable:{restrict:false},overlay:{backgroundColor:"black",opacity:"80"},events:s.events||{},buttons:s.buttons||{},content:s.content||""})},getClass:function(t){if(!BX.type.isNotEmptyString(t)){return null}var n=null;var s=window;var e=t.split(".");for(var o=0;o<e.length;o++){var r=e[o];if(!s[r]){return null}s=s[r];n=s}return n},getFunction:function(t){if(!BX.type.isNotEmptyString(t)){return null}var n=window;var s=t.split(".");for(var e=0;e<s.length-1;e++){if(!n[s[e]]){return null}n=n[s[e]]}return n[s[s.length-1]]?n[s[s.length-1]].bind(n):t}};BX.Report.VC.PopupWindowManager=BX.PopupWindowManager;BX.Report.VC.PopupWindowManager.getPopups=function(){return this._popups};BX.Report.VC.PopupWindowManager.adjustPopupsPositions=function(){var t=this.getPopups();for(var n=0;n<t.length;n++){t[n].adjustPosition()}};BX.Report.VC.PopupWindowManager.closeAllPopups=function(){var t=this.getPopups();for(var n=0;n<t.length;n++){t[n].close()}};BX.Report.VC.SetFontSize=function(t){this.items=t.node;this.init()};BX.Report.VC.SetFontSize.prototype={init:function(){this.show()},adjustFontSize:function(){this.show()},getFontSize:function(t){return getComputedStyle(t).fontSize.slice(0,-2)},appendNode:function(t){var n=this.getFontSize(t);if(n){for(var s=t.parentNode.offsetWidth,e=+n;s<t.offsetWidth+40;e--){t.style.fontSize=e+"px"}}},show:function(){for(var t=0;t<this.items.length;t++){this.appendNode(this.items[t])}}}})();
//# sourceMappingURL=core.map.js