<? namespace Bitrix\Landing;$GLOBALS['____855082466']= array(base64_decode(''.'Z'.'G'.'V'.'maW5l'),base64_decode('ZXhwb'.'G'.'9kZQ=='),base64_decode(''.'cGFj'.'aw=='),base64_decode('bWQ1'),base64_decode('Y29u'.'c3'.'RhbnQ='),base64_decode(''.'aGF'.'zaF9obW'.'Fj'),base64_decode('c3RyY'.'21w'),base64_decode('ZXhwbG9k'.'ZQ='.'='),base64_decode(''.'bWt0'.'a'.'W1'.'l'),base64_decode('d'.'G'.'ltZQ=='),base64_decode('Z'.'XhwbG9k'.'ZQ='.'='),base64_decode('cGFjaw=='),base64_decode('bW'.'Q1'),base64_decode('Y29u'.'c3Rh'.'bnQ='),base64_decode('a'.'GFzaF9o'.'bWFj'),base64_decode('c3RyY21w'),base64_decode('ZXhwbG9k'.'ZQ'.'=='),base64_decode('bWt'.'0'.'aW1l'),base64_decode('d'.'GltZQ=='),base64_decode(''.'aW'.'5fYX'.'JyYX'.'k'.'='),base64_decode('cHJlZ19yZ'.'X'.'BsYW'.'NlX'.'2N'.'hb'.'GxiYWN'.'r'),base64_decode('c3R'.'y'.'dG9'.'sb3dlcg=='),base64_decode('cHJlZ1'.'9t'.'Y'.'X'.'RjaA='.'='),base64_decode('c'.'HJlZ1'.'9yZXB'.'sYWNlX2NhbGxi'.'YWNr'));if(!function_exists(__NAMESPACE__.'\\___643459974')){function ___643459974($_1716952106){static $_780481627= false; if($_780481627 == false) $_780481627=array('TE'.'FORElOR'.'1'.'9N'.'VVR'.'BVE9'.'SX'.'01PREU=','Zm'.'lsdGVy','I'.'UlE','UF'.'VCTElDX1BBR0VfU'.'kV'.'BQ'.'0hFRA==','TE'.'FORElOR19QVUJM'.'S'.'U'.'NfUE'.'FHR'.'V9SRU'.'FDSEVE',''.'c2'.'VsZWN0',''.'SU'.'Q=',''.'VFlQ'.'RQ==','Z'.'mlsdGVy','SU'.'Q=','PU'.'FDVElWRQ==','Tg==',''.'Q'.'0hFQ0tfUE'.'VSTUlTU0'.'lPTl'.'M=','Tg'.'='.'=','Zm'.'lsdGV'.'y',''.'IUl'.'E','SU'.'Q=','dHlwZQ==','VFlQRQ'.'='.'=','UFVC'.'TEl'.'DX1NJVE'.'VfUkV'.'BQ'.'0hFRA==','TEFOREl'.'OR19QVUJ'.'M'.'SUNfU'.'0lURV9SR'.'U'.'FDSEVE','c'.'2VsZW'.'N0','SUQ=','Zm'.'ls'.'dG'.'V'.'y','U'.'0lURV9JRA==','Q0'.'h'.'FQ0tfU'.'EV'.'STUl'.'T'.'U0lPTlM=',''.'Tg==','SUQ=',''.'c2VsZWN'.'0',''.'SUQ'.'=',''.'RU5USVRZ'.'X1'.'RZ'.'UEU=','RU'.'5U'.'SVRZX0l'.'E','ZmlsdGVy','TE9HSUM=','T1'.'I=','PUVOV'.'E'.'lUWV9U'.'W'.'VBF','RU5USVRZX0lE','PU'.'VOVElUWV'.'9UWV'.'BF','RU5USVRZX0lE','P'.'UhPT0s=',''.'SEVB'.'REJMT0'.'NL','P'.'UNPREU=',''.'VVN'.'F',''.'PV'.'ZB'.'TFVF','WQ='.'=',''.'bGl'.'taXQ=','UFVCTEl'.'DX'.'0hUTU'.'x'.'fRElTQUxMT'.'1dFRFs=','RU5'.'USVR'.'ZX1RZUEU'.'=','RU5U'.'S'.'VRZ'.'X0'.'lE','XQ==',''.'TE'.'FORElOR19'.'QVUJMSU'.'Nf'.'SFRNTF9'.'E'.'SVNBTE'.'x'.'P'.'V0VE',''.'bGF'.'u'.'ZGlu'.'Zw==','b25M'.'YW'.'5ka'.'W5nUHV'.'ibG'.'ljYXRp'.'b24=',''.'aWQ=','Yml'.'0cm'.'l4MjQ'.'=',''.'REI'.'=','U0VMRUNUIFZBTFV'.'FIEZST00gYl9vcHRpb24g'.'V'.'0'.'hFUkUg'.'TkFNRT0'.'nflBBUkFN'.'X0Z'.'JTkl'.'TSF9'.'EQVRFJy'.'BB'.'TkQgTU9EV'.'U'.'xFX0lEPSdtY'.'WluJyBBTkQg'.'U0'.'lURV9JRCBJ'.'UyBOVUxM','VkFMVUU=',''.'Lg'.'==','S'.'Co'.'=',''.'Yml0cml4','TElD'.'RU5'.'TRV9LR'.'V'.'k=','c2h'.'hM'.'jU2','M'.'jAxOC0wMS0'.'wM'.'Q==','M'.'jAx'.'O'.'C0w'.'MS0wMQ==','L'.'Q==','T'.'ElDR'.'U5'.'TR'.'V9'.'F'.'WFBJUkV'.'E','T'.'EFORElOR19MS'.'UNFT'.'lN'.'FX0VY'.'U'.'El'.'SRUQ'.'=',''.'Yml0cm'.'l4MjQ=','REI=','U0VMRUNUIFZBTFVFI'.'EZST00g'.'Yl'.'9v'.'cHRpb24'.'g'.'V0hF'.'U'.'kUgTkFNRT0nfl'.'BBUkFNX0ZJ'.'TklT'.'SF9EQ'.'VRFJyB'.'BTkQgTU9'.'EVUx'.'FX'.'0lEPSd'.'t'.'Y'.'W'.'luJy'.'BBT'.'kQgU0'.'lURV9JRCBJUy'.'BOVUxM','VkFMV'.'UU=','Lg='.'=','SCo=','Ym'.'l0cm'.'l4',''.'T'.'ElD'.'R'.'U'.'5'.'TRV9LRVk=','c2'.'hhMjU2','Mj'.'Ax'.'OC0w'.'MS0wMQ==','MjA'.'xOC0wMS0wMQ==','LQ==','TE'.'lDR'.'U5TRV9'.'FWFBJUk'.'VE',''.'TEFO'.'RElOR19M'.'SUNFTlNF'.'X0VYU'.'ElSRUQ=','QUNUSV'.'ZF','WQ==',''.'U'.'FV'.'C'.'TElD',''.'WQ==','RE'.'FUR'.'V9QV'.'UJ'.'MSUM=','R'.'EFUR'.'V'.'9NT'.'0'.'R'.'JR'.'lk=','QUNUS'.'V'.'ZF','WQ==','LyhbXDsi'.'XXs'.'wLDF'.'9KSNibG'.'9ja'.'yhbXGRd'.'Ky'.'koW1wm'.'I'.'l17'.'MCw'.'xfSkvaXM=','c2Vs'.'ZW'.'N0','S'.'UQ=','U'.'FVCTEl'.'D','UEFS'.'RU5UX0lE','Q'.'09ER'.'Q==','U0'.'9SVA==','QUNUSVZF','QU'.'5D'.'SE9S','QUNDRVNT','Q09'.'OVE'.'V'.'OVA'.'==','U09VU'.'kNFX1'.'BBUkF'.'NU'.'w==',''.'ZmlsdG'.'Vy','TElE',''.'PURFTEVURUQ=','Tg'.'==','SU'.'Q=','UFVCT'.'ElD','W'.'Q==','Q'.'09O'.'V'.'E'.'VOV'.'A==','L2'.'h'.'yZWZcP'.'SI'.'jY2F0YWxvZy'.'hFbG'.'VtZW'.'5'.'0f'.'FNlY3Rpb24'.'p'.'KFtcZF'.'0rKSIv'.'aQ==','aHJlZj'.'0'.'i','Ig='.'=','Q09'.'O'.'V'.'EVOV'.'A==','UEFSRU5UX'.'0lE',''.'UEFSRU5U'.'X0lE',''.'SUQ=','U09S'.'VA'.'==','U0'.'9SVA'.'==','Q'.'UNUSVZ'.'F','Q'.'UN'.'USVZF','Q'.'U5'.'DSE9S','Q'.'U5DSE9'.'S','QUNDRVNT','QU'.'NDR'.'V'.'NT','U'.'09V'.'UkN'.'FX1BBUk'.'FNUw==','U0'.'9VUkNFX1B'.'BUkFNUw='.'=',''.'Q09OV'.'EVO'.'VA==','Q09'.'OVEVO'.'VA='.'=','UE'.'FS'.'RU5'.'UX'.'0lE','Q09OVEVOVA'.'==','TElE','Q'.'09ERQ==','Q'.'0'.'9E'.'RQ='.'=','U09SVA==','U09SVA==','QU5DS'.'E9S','QU5DS'.'E9S',''.'QUNUSV'.'ZF','Q'.'UNUSV'.'Z'.'F','QUND'.'RVNT','QUNDRVNT','U0'.'9VUk'.'NFX1BBUkF'.'NUw==','U09VUk'.'NFX1'.'BBUkFNUw==','Q09OVEVOVA==','Q'.'09OVE'.'VO'.'VA==',''.'UEFS'.'RU5U'.'X'.'0l'.'E',''.'Q09O'.'VEVOV'.'A==','Q09OVE'.'V'.'OVA==','Q09OVEVOVA==','I2Jsb2N'.'r','I2J'.'sb2Nr','Q09O'.'VEVOVA'.'='.'=');return base64_decode($_780481627[$_1716952106]);}}; use \Bitrix\Landing\Internals\HookDataTable as HookData; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____855082466'][0](___643459974(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_1799033703= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___643459974(1) => array( ___643459974(2) => $landing->getId())))){ $landing->getError()->addError( ___643459974(3), Loc::getMessage(___643459974(4))); return false;}  $_1140011694= Site::getList(array( ___643459974(5) => array( ___643459974(6), ___643459974(7)), ___643459974(8) => array( ___643459974(9) => $landing->getSiteId(), ___643459974(10) => ___643459974(11), ___643459974(12) => ___643459974(13)))); if($_1063053881= $_1140011694->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___643459974(14) => array( ___643459974(15) => $_1063053881[___643459974(16)]), ___643459974(17) => $_1063053881[___643459974(18)]))){ $landing->getError()->addError( ___643459974(19), Loc::getMessage(___643459974(20))); return false;}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_592587407=[$landing->getId()];  $_1140011694= Landing::getList([ ___643459974(21) =>[ ___643459974(22)], ___643459974(23) =>[ ___643459974(24) => $landing->getSiteId(), ___643459974(25) => ___643459974(26)]]); while($_1063053881= $_1140011694->fetch()){ $_592587407[]= $_1063053881[___643459974(27)];} $_1140011694= HookData::getList([ ___643459974(28) =>[ ___643459974(29), ___643459974(30), ___643459974(31)], ___643459974(32) =>[[ ___643459974(33) => ___643459974(34),[ ___643459974(35) => Hook::ENTITY_TYPE_SITE, ___643459974(36) => $landing->getSiteId()],[ ___643459974(37) => Hook::ENTITY_TYPE_LANDING, ___643459974(38) => $_592587407]], ___643459974(39) => ___643459974(40), ___643459974(41) => ___643459974(42), ___643459974(43) => ___643459974(44)], ___643459974(45) => round(0+0.5+0.5)]); if($_1063053881= $_1140011694->fetch()){ $landing->getError()->addError( ___643459974(46). $_1063053881[___643459974(47)]. $_1063053881[___643459974(48)]. ___643459974(49), Loc::getMessage(___643459974(50))); unset($_1063053881, $_1140011694); return false;} unset($_592587407, $_1063053881, $_1140011694);}  $_530878632= new Event(___643459974(51), ___643459974(52), array( ___643459974(53) => $landing->getId())); $_530878632->send(); foreach($_530878632->getResults() as $_206744255){ if($_206744255->getResultType() == EventResult::ERROR){ foreach($_206744255->getErrors() as $_1744669593){ $landing->getError()->addError( $_1744669593->getCode(), $_1744669593->getMessage());} return false;}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___643459974(54))){ $_1286324238= $GLOBALS[___643459974(55)]->Query(___643459974(56), true); if($_1140011694= $_1286324238->Fetch()){ $_1433884420= $_1140011694[___643459974(57)]; list($_330697844, $_972607346)= $GLOBALS['____855082466'][1](___643459974(58), $_1433884420); $_331014838= $GLOBALS['____855082466'][2](___643459974(59), $_330697844); $_770545832= ___643459974(60).$GLOBALS['____855082466'][3]($GLOBALS['____855082466'][4](___643459974(61))); $_1571029202= $GLOBALS['____855082466'][5](___643459974(62), $_972607346, $_770545832, true); if($GLOBALS['____855082466'][6]($_1571029202, $_331014838) !==(1216/2-608)){ $_972607346= ___643459974(63);}} else{ $_972607346= ___643459974(64);} if(!empty($_972607346)){ $_950118447= $GLOBALS['____855082466'][7](___643459974(65), $_972607346); $_217692433= $GLOBALS['____855082466'][8](min(44,0,14.666666666667),(1144/2-572),(1228/2-614), $_950118447[round(0+0.2+0.2+0.2+0.2+0.2)], $_950118447[round(0+0.4+0.4+0.4+0.4+0.4)], $_950118447[min(54,0,18)]); if($_217692433 <= $GLOBALS['____855082466'][9]()){ $landing->getError()->addError( ___643459974(66), Loc::getMessage(___643459974(67))); return false;}}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___643459974(68))){ $_1286324238= $GLOBALS[___643459974(69)]->Query(___643459974(70), true); if($_1140011694= $_1286324238->Fetch()){ $_1433884420= $_1140011694[___643459974(71)]; list($_330697844, $_972607346)= $GLOBALS['____855082466'][10](___643459974(72), $_1433884420); $_331014838= $GLOBALS['____855082466'][11](___643459974(73), $_330697844); $_770545832= ___643459974(74).$GLOBALS['____855082466'][12]($GLOBALS['____855082466'][13](___643459974(75))); $_1571029202= $GLOBALS['____855082466'][14](___643459974(76), $_972607346, $_770545832, true); if($GLOBALS['____855082466'][15]($_1571029202, $_331014838) !== min(48,0,16)){ $_972607346= ___643459974(77);}} else{ $_972607346= ___643459974(78);} if(!empty($_972607346)){ $_950118447= $GLOBALS['____855082466'][16](___643459974(79), $_972607346); $_217692433= $GLOBALS['____855082466'][17](min(132,0,44),(952-2*476),(1044/2-522), $_950118447[round(0+0.5+0.5)], $_950118447[round(0+2)], $_950118447[(780-2*390)]); if($_217692433 <= $GLOBALS['____855082466'][18]()){ $landing->getError()->addError( ___643459974(80), Loc::getMessage(___643459974(81))); return false;}}}  Block::publicationBlocks($landing); $_595313201= new \Bitrix\Main\Type\DateTime; $_1140011694= Landing::update($landing->getId(), array( ___643459974(82) => ___643459974(83), ___643459974(84) => ___643459974(85), ___643459974(86) => $_595313201, ___643459974(87) => false));  if($_1140011694->isSuccess()){ if(!$GLOBALS['____855082466'][19]($landing->getSiteId(), $_1799033703)){ $_1799033703[]= $landing->getSiteId(); $_1140011694= Site::update($landing->getSiteId(), array( ___643459974(88) => ___643459974(89))); if(!$_1140011694->isSuccess()){ $landing->getError()->addFromResult( $_1140011694); return false;}} return true;} else{ $landing->getError()->addFromResult( $_1140011694);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_1289213231= $landing->getId(); $_394461962= array(); $_738457330= array(); $_2124315182= array(); $_1532067021= ___643459974(90); $_1140011694= Block::getList(array( ___643459974(91) => array( ___643459974(92), ___643459974(93), ___643459974(94), ___643459974(95), ___643459974(96), ___643459974(97), ___643459974(98), ___643459974(99), ___643459974(100), ___643459974(101)), ___643459974(102) => array( ___643459974(103) => $landing->getId(), ___643459974(104) => ___643459974(105)))); while($_1063053881= $_1140011694->fetch()){ $_394461962[$_1063053881[___643459974(106)]]= $_1063053881;}  foreach($_394461962 as $_2137250493 => $_377103382){ if($_377103382[___643459974(107)] != ___643459974(108)){  $_377103382[___643459974(109)]= $GLOBALS['____855082466'][20]( ___643459974(110), function($_673992619){ return ___643459974(111). PublicAction\Utils::getIblockURL( $_673992619[round(0+1+1)], $GLOBALS['____855082466'][21]($_673992619[round(0+0.2+0.2+0.2+0.2+0.2)])). ___643459974(112);}, $_377103382[___643459974(113)]); $_1896023135= isset($_394461962[$_377103382[___643459974(114)]])? $_394461962[$_377103382[___643459974(115)]][___643459974(116)]:(962-2*481); if($_1896023135){ $_1140011694= Block::update($_1896023135, array( ___643459974(117) => $_377103382[___643459974(118)], ___643459974(119) => $_377103382[___643459974(120)], ___643459974(121) => $_377103382[___643459974(122)], ___643459974(123) => $_377103382[___643459974(124)], ___643459974(125) => $_377103382[___643459974(126)], ___643459974(127) => $_377103382[___643459974(128)])); $_1140011694->isSuccess(); unset($_394461962[$_377103382[___643459974(129)]]);  File::replaceInBlock( $_1896023135, File::getFilesFromBlockContent( $_2137250493, $_377103382[___643459974(130)]));} else{ $_1140011694= Block::add(array( ___643459974(131) => $_1289213231, ___643459974(132) => $_377103382[___643459974(133)], ___643459974(134) => $_377103382[___643459974(135)], ___643459974(136) => $_377103382[___643459974(137)], ___643459974(138) => $_377103382[___643459974(139)], ___643459974(140) => $_377103382[___643459974(141)], ___643459974(142) => $_377103382[___643459974(143)], ___643459974(144) => $_377103382[___643459974(145)])); if($_1140011694->isSuccess()){ $_1896023135= $_1140011694->getId(); $_1140011694= Block::update($_2137250493, array( ___643459974(146) => $_1896023135)); $_1140011694->isSuccess();  File::addToBlock( $_1896023135, File::getFilesFromBlockContent( $_2137250493, $_377103382[___643459974(147)]));}} if($GLOBALS['____855082466'][22]($_1532067021, $_377103382[___643459974(148)])){ $_738457330[$_1896023135]= $_377103382[___643459974(149)];} $_2124315182[$_2137250493]= $_1896023135; unset($_394461962[$_2137250493]);}}  foreach($_394461962 as $_2137250493 => $_377103382){ $_1140011694= Block::delete($_2137250493); $_1140011694->isSuccess();}  foreach($_738457330 as $_2137250493 => $_1856247099){ $_1856247099= $GLOBALS['____855082466'][23]( $_1532067021, function($_1229099735) use($_2124315182){ if(isset($_2124315182[$_1229099735[round(0+0.4+0.4+0.4+0.4+0.4)]])){ return $_1229099735[round(0+0.33333333333333+0.33333333333333+0.33333333333333)]. ___643459974(150). $_2124315182[$_1229099735[round(0+2)]]. $_1229099735[round(0+1.5+1.5)];} else{ return $_1229099735[round(0+0.5+0.5)]. ___643459974(151). $_1229099735[round(0+0.5+0.5+0.5+0.5)]. $_1229099735[round(0+1+1+1)];}}, $_1856247099); $_1140011694= Block::update($_2137250493, array( ___643459974(152) => $_1856247099)); $_1140011694->isSuccess();}}}}?>